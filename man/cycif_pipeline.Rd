% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pipeline.R
\name{cycif_pipeline}
\alias{cycif_pipeline}
\title{Run Complete CyCIF Analysis Pipeline}
\usage{
cycif_pipeline(
  data_dir,
  roi_dir = data_dir,
  gate_table_path = NULL,
  slide_info_path = NULL,
  roi_info_path = NULL,
  output_dir,
  summary_filters = list(`PanCK+` = ~PanCKp, `PanCK-` = ~!PanCKp),
  summary_groups = list(by_roi = c("slideName", "ROI", "ROIname"), by_slide =
    c("slideName"), by_roi_type = c("slideName", "ROIname")),
  sampling_mode = "all_cells",
  sample_size = 50000,
  marker_combinations = NULL,
  double_gates = NULL,
  scale_factor = 0.65,
  expand_distance = 50,
  slide_filter = NULL
)
}
\arguments{
\item{data_dir}{Directory containing cell data files}

\item{roi_dir}{Directory containing ROI files (defaults to \code{data_dir})}

\item{gate_table_path}{Path to gate table CSV file (optional)}

\item{slide_info_path}{Path to slide metadata CSV file (optional)}

\item{roi_info_path}{Path to ROI metadata CSV file (optional)}

\item{output_dir}{Directory to save results}

\item{summary_filters}{Named list of formula expressions for creating
stratified summaries. Default creates PanCK+/- summaries.
Example: \code{list("panCK+" = ~PanCKp, "CD8+" = ~CD8ap)}}

\item{summary_groups}{Named list of character vectors defining different
grouping strategies for summaries. Default groups by ROI.
Example: \code{list("by_roi" = c("slideName", "ROI", "ROIname"), by_slide = c("slideName"))}}

\item{sampling_mode}{Sampling mode, either "all_cells" or "roi_only"}

\item{sample_size}{Number of cells to sample per slide (NULL for no sampling)}

\item{marker_combinations}{List of marker combination definitions. If NULL,
uses default combinations. Example: \code{list(strange_cells = ~p53p & CD11cp)}}

\item{double_gates}{Data frame with marker1, marker2 columns for double gates}

\item{scale_factor}{Scale factor to convert pixels to microns (default 0.65)}

\item{expand_distance}{Distance in microns to expand ROIs (default 50,
set to 0 to disable)}

\item{slide_filter}{Optional vector of slide names to process}
}
\value{
List with analysis results (also saves files to \code{output_dir})
}
\description{
Runs the complete CyCIF analysis pipeline from data loading through
result saving.
}
\examples{
\dontrun{
# Basic pipeline run
results <- run_complete_pipeline(
  data_dir = "/path/to/data",
  output_dir = "/path/to/output"
)

# Advanced pipeline with custom parameters
results <- run_complete_pipeline(
  data_dir = "/path/to/data",
  roi_dir = "/path/to/rois",
  gate_table_path = "/path/to/gates.csv",
  output_dir = "/path/to/output",
  summary_filters = list("CD8+" = ~CD8ap, "CD4+" = ~CD4p),
  sample_size = 25000,
  sampling_mode = "roi_only"
)
}
}
